{% extends 'base.html.twig' %}

{% block title %}{{ "Contracts" | trans() }}{% endblock %}

{% block body %}

    <table class="table table-hover">
        <thead>
        <tr>
            <th class="small text-muted text-uppercase"><strong>{{ 'Code' | trans() }}</strong></th>
            <th class="small text-muted text-uppercase"><strong>{{ 'Type' | trans() }}</strong></th>
            <th class="small text-muted text-uppercase"><strong>{{ 'Sum' | trans() }}</strong></th>
            <th class="small text-muted text-uppercase"><strong>{{ 'Document' | trans() }}</strong></th>
            <th class="small text-muted text-uppercase"><strong>{{ 'Crew' | trans() }}</strong></th>
            <th class="small text-muted text-uppercase"><strong>{{ 'Departure address' | trans() }}</strong></th>
            <th class="small text-muted text-uppercase"><strong>{{ 'Departure date' | trans() }}</strong></th>
        </tr>
        </thead>
        <tbody>
            {% for paymentOrder in paymentOrders %}
                <tr>
                    <td class="v-a-m">{{ paymentOrder.code }}</td>
                    <td class="v-a-m">
                        <span class="text-{{ paymentOrder.typeColor }}">{{ paymentOrder.typeName | trans() }}</span>
                    </td>
                    <td class="v-a-m">{{ paymentOrder.amount | number_format(2, '.', ',') }} <i class="fa fa-fw fa-rouble"></i></td>
                    <td class="v-a-m">
                        <a href="{{ path('document_details', {'id': paymentOrder.document.id}) }}">{{ paymentOrder.document.code }}</a>
                    </td>
                    <td class="v-a-m">{{ paymentOrder.departure.crew.code }}</td>
                    <td class="v-a-m">{{ paymentOrder.departure.apartment.address }}</td>
                    <td class="v-a-m">{{ paymentOrder.departure.date | date('d.m.Y') }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    {% set vars = {
        'route': 'payment_orders_list',
        'currentPage': currentPage,
        'maxPages': maxPages,
        'perPage': perPage,
        'filters': filters,
        'routeParams': {
            'orderBy': orderBy,
            'order': order
        }
    } %}

    {% include 'partial/paginator.html.twig' with vars %}
{% endblock %}